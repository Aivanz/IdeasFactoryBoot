<div class="container">
    <form class="form-horizontal" (ngSubmit)="register(f.value, f.valid)" #f="ngForm" novalidate>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <h2>New Administrator</h2>
                <hr>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <div class="form-group has-danger" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
                    <label class="sr-only" for="user">Username</label>
                    <div class="input-group mb-2 mr-sm-2 mb-sm-0">
                        <input type="text" name="username" class="form-control" id="user"
                               placeholder="Username" autofocus [(ngModel)]="user.username" #username="ngModel" required >
                    </div>
                    <div *ngIf="f.submitted && !username.valid" class="small alert alert-danger">
                        Username is required
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
                <div class="col-md-3"></div>
                <div class="col-md-6">
                    <div class="form-group has-danger" [ngClass]="{ 'has-error': f.submitted && !mail.valid }">
                        <label class="sr-only" for="user">Email</label>
                        <input type="mail" name="mail" id="mail" [ngModel]="user.mail" class="form-control" placeholder="Email"
                            required #mail="ngModel" 
                            pattern="[A-z0-9\.\+_-]+@[A-z0-9\._-]+\.[A-z]{2,6}">
                        <div [hidden]="mail.valid || (mail.pristine && !f.submitted)" class="small alert alert-danger">
                            Email is required and format should be <i>john@doe.com</i>.
                        </div>
                    </div>
                </div>
            </div>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
                    <label class="sr-only" for="password">Password</label>
                    <div class="input-group mb-2 mr-sm-2 mb-sm-0">
                        <input type="password" name="password" class="form-control" id="password"
                               placeholder="Password" [(ngModel)]="user.password" #password="ngModel" 
                               required reverse="true" validateEqual="confirmPassword">
                    </div>
                    <div [hidden]="password.valid || (password.pristine && !f.submitted)" class="small alert alert-danger">Password is required</div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="sr-only" for="confirmPassword">Verify Password</label>
                    <div class="input-group mb-2 mr-sm-2 mb-sm-0">
                        <input type="password" name="confirmPassword" class="form-control" id="confirmPassword"
                               placeholder="Verify Password" [ngModel]="user.confirmPassword" 
                               required validateEqual="password" #confirmPassword="ngModel" reverse="false">
                    </div>
                    <div [hidden]="confirmPassword.valid || (confirmPassword.pristine && !f.submitted)" 
                        class="small alert alert-danger">Password mismatch</div>
                </div>
            </div>
        </div>
        <div class="row" style="padding-top: 1rem">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <button type="submit" class="btn btn-success"><fa name="plus-circle"></fa>Add</button>
            </div>
        </div>
    </form>
</div>
